<div class="container mt-4">
  <h3>ุชุญุฏูุซ ุงูููุชุฌ</h3>
    <button class="btn btn-outline-secondary me-5  bg-warning"    (click)="goBack()">

  <div *ngIf="isLoading" class="text-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <form *ngIf="!isLoading" [formGroup]="productForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <div class="mb-3">
      <label>ุงุณู ุงูููุชุฌ</label>
      <input class="form-control" formControlName="name" required>
    </div>

    <div class="mb-3">
      <label>ุงููุตู</label>
      <textarea class="form-control" formControlName="description"></textarea>
    </div>

    <div class="mb-3">
      <label>ุงููุณู</label>
      <textarea class="form-control" formControlName="cat_Id"></textarea>
    </div>

    <div class="mb-3">
      <label>ุงููุญุชูู</label>
      <textarea class="form-control" formControlName="content"></textarea>
    </div>

    <div class="mb-3">
      <label>ุงูุณุนุฑ</label>
      <input type="number" class="form-control" formControlName="price" required>
    </div>

    

    <div class="mb-3">
      <label>ุงูุณุนุฑ ูุจู ุงูุฎุตู</label>
      <input type="number" class="form-control" formControlName="priceBeforeDiscount" >
    </div>

    <div class="mb-3">
      <label>ุชุงุฑุฎ ุจุฏุก ุงูุนุฑุถ</label>
      <input type="datetime-local" class="form-control" formControlName="from" >
    </div>

    <div class="mb-3">
      <label>ุชุงุฑูุฎ ุงูุชูุงุก ุงูุนุฑุถ</label>
      <input type="datetime-local" class="form-control" formControlName="to" >
    </div>

    <div class="row mt-3">
      <div class="col-md-3 mb-3" *ngFor="let img of images.controls; let i = index">
        <!-- <img [src]=" 'https://localhost:44380/Images/'+imagePreviews[i]" class="img-thumbnail w-100" style="height: 150px; object-fit: cover;"> -->
      <img [src]="getImageSrc(imagePreviews[i])" class="img-thumbnail w-100" style="height: 150px; object-fit: cover;">

        <p class="mt-1 small text-truncate">{{ img.value.image }}</p>
        <button type="button" class="btn btn-sm btn-danger w-100" (click)="removeImage(i)">๐ ุญุฐู</button>
      </div>
    </div>

    <div class="mb-3">
      <label class="btn btn-primary">
        โ ุฅุถุงูุฉ ุตูุฑุฉ
        <input type="file" hidden (change)="onFileSelected($event)" accept="image/*" multiple>
      </label>
    </div>

<div class="mb-3">
      <label>ููุฏูู</label>
      <textarea class="form-control" formControlName="youtubeLink"></textarea>

    </div>



    <button class="btn btn-success" [disabled]="productForm.invalid">๐พ ุญูุธ</button>
  </form>
