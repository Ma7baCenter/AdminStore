<div class="container mt-5">
  <h2 class="text-center" style="color: orangered;">اضافة قسم جديد</h2>
  <form (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="name" class="form-label" style="font-size: x-large;font-weight: 700;">اسم المنتج</label>
      <input type="text" class="form-control" id="name" [(ngModel)]="category.Namecat" name="Namecat" required>
    </div>

   
    

   
    <!-- Percent will be calculated automatically -->

    <!-- <div class="mb-3">
      <label class="form-label">Colors</label>
      <div class="input-group mb-3">
        <input type="text" class="form-control" [(ngModel)]="newColor" name="newColor" placeholder="Add color">
        <button class="btn btn-outline-secondary" type="button" (click)="addColor()">Add</button>
      </div>
      <div class="color-chips">
        <span class="badge bg-primary me-2 mb-2" *ngFor="let color of product.Colors"
>
          {{ color }}
          <button type="button" class="btn-close btn-close-white ms-2" (click)="removeColor(color)"></button>
        </span>
      </div>
    </div> -->

    <!-- <div class="mb-3">
      <label for="images" class="form-label">Product Images</label>
      <input type="file" class="form-control" id="images" (change)="onFileSelected($event)" multiple accept="image/*">

      <div class="mt-3" *ngIf="selectedFiles.length > 0">
        <h5>Selected Files:</h5>
        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between align-items-center"
            *ngFor="let file of selectedFiles; let i = index">
            {{ file.name }}
            <button type="button" class="btn btn-danger btn-sm" (click)="removeImage(i)">Remove</button>
          </li>
        </ul>
      </div>
    </div> -->


<div class="mb-3">
  <label for="images" class="form-label" style="font-size: x-large;font-weight: 700;">صور القسم</label>
  
  <!-- زر تحميل الصور الأساسي -->
  <input type="file" class="form-control" id="images" 
         (change)="onFileSelected($event)" 
         multiple 
         accept="image/*"
         #fileInput>
  
  <div class="form-text">
    Maximum {{ maxFiles }} images (JPEG, PNG), 5MB each
  </div>

  <!-- معاينة الملفات المختارة -->
  <div class="mt-3" *ngIf="selectedFiles.length > 0">
    <h5>Selected Images ({{ selectedFiles.length }}/{{ maxFiles }})</h5>
    
    <div class="alert alert-warning" *ngIf="selectedFiles.length === maxFiles">
      Maximum number of images reached
    </div>
    
    <ul class="list-group">
      <li class="list-group-item d-flex justify-content-between align-items-center"
          *ngFor="let item of selectedFiles; let i = index">
        <div class="d-flex align-items-center">
          <img [src]="item.preview" class="img-thumbnail me-3" style="width: 50px; height: 50px;">
          <div>
            <div>{{ item.file.name }}</div>
            <small class="text-muted">{{ item.file.size  }}</small>
          </div>
        </div>
        <button type="button" class="btn btn-danger btn-sm" 
                (click)="removeImage(i)">
          <i class="bi bi-trash"></i> مسح
        </button>
      </li>
    </ul>
    
    <!-- زر إضافة المزيد من الصور (يظهر فقط عندما يكون عدد الصور أقل من الحد الأقصى) -->
    <div class="mt-3" *ngIf="selectedFiles.length < maxFiles">
      <button type="button" class="btn btn-outline-primary" (click)="fileInput.click()">
        <i class="bi bi-plus-lg"></i> اضافة المذيد من الصور
      </button>
    </div>
  </div>
</div>



    <button type="submit" class="btn btn-primary" style="font-size: x-large;font-weight: 700;">اضافة قسم</button>
  </form>
</div>